{% extends "master.twig" %}

{% block title %}{{boardName}} - {{pageTitle}}{% endblock %}

{% block bodyRender %}

{{BREADCRUMB|raw}}<br />

<p class="ui-widget-content">{{LANG_TEXT}}</p>

{{VALIDATIONSUMMARY|raw}}<br />

<!-- validation box. -->
<div style="display:none;" id="div_ErrMsg">
	<div class="ui-widget centerContainer" style="width: 45%;">
		<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;text-align:left;">
			<span style="float: right;font-weight:bold;"><a href="#close" onclick="$('#div_ErrMsg').hide('blind', {}, 500);" class="ui-icon ui-icon-circle-close">&nbsp;</a></span>
			<p id="validateRes"></p>
		</div>
	</div>
</div>

{{REPORTTOPICFORM|raw}}
<table border="0" class="table" cellspacing="1" cellpadding="1">
<tr>
	<td colspan="2" class="ui-widget-header centerText" width="50%">{{pageTitle}}</td>
</tr><tr>
	<td class="ui-widget-content" width="50%">{{LANG_REPORTEDBY}}</td>
	<td class="ui-widget-content" width="50%">{{LOGGEDUSER}}</td>
</tr><tr>
	<td class="ui-widget-content" width="50%">{{LANG_REASON}}</td>
	<td class="ui-widget-content" width="50%">
		<select name="reason" class="text">
			<option value="spampost">{{LANG_SPAMPOST}}</option>
			<option value="fightpost">{{LANG_FIGHTPOST}}</option>
			<option value="advert">{{LANG_ADVERT}}</option>
			<option value="userproblems">{{LANG_USERPROBLEMS}}</option>
			<option value="other">{{LANG_OTHER}}</option>
		</select>
	</td>
</tr><tr>
	<td class="ui-widget-content" width="50%">{{LANG_MESSAGE}}</td>
	<td class="ui-widget-content" width="50%"><textarea name="msg" rows="5" cols="80" class="text" id="msg"></textarea></td>
</tr><tr>
	<td colspan="2" class="ui-widget-header centerText"><input type="submit" name="submit" value="{{LANG_SUBMITREPORT}}" class="submit" /></td>
</tr>
</table>
</form>

<script type="text/javascript">
new FormValidator('frmReportTopics', [{
	name: 'msg',
	display: '{{LANG_MESSAGE}}',
	rules: 'required|min_length[10]|max_length[255]'
}], function(errors, event) {

	if (errors.length > 0) {
		$('#validateRes').empty();
		$('#validateRes').append(errors.join('<br />'));
		$('#div_ErrMsg').show();
	} else {
		event.returnValue = true; //allow form to process.
	}

});
</script>
{% endblock %}
